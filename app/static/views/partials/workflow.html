<div>
  <h3>{{currentState.name}}</h3>
  <p>{{currentState.description}}</p>
  <p>Step {{currentStateIndex}} of {{getStateCount()}}</p>
  <form>
    <div ng-repeat="field in currentState.fields">
      <input ng-if="field.type === 'text'" 
             id="{{field.id}}" 
             placeholder="{{field.name}}" 
             class="form-control" 
             ng-model="currentStateData[field.id]"
             type="text">
      </input>
      <span ng-if="field.type === 'checkbox'">
        <input id="{{field.id}}"
               ng-model="currentStateData[field.id]"
               type="checkbox">{{field.name}}
        </input>
      </span>
    </div>
  </form>
  <button ng-if="showBackButton()" type="button" id="prior_state" ng-click="backState()">Back</button>
  <button ng-if="showNextButton()" type="button" id="next_state" ng-click="nextState()">Next</button>
</div>
